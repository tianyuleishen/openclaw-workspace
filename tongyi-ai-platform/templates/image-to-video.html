<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>图生视频 - 通义万相</title>
    <link rel="stylesheet" href="/static/css/style.css">
</head>
<body>
    <nav class="navbar">
        <div class="container">
            <h1>🖼️ 图生视频</h1>
            <ul>
                <li><a href="/">首页</a></li>
                <li><a href="/text-to-image">文生图</a></li>
                <li><a href="/text-to-video">文生视频</a></li>
                <li><a href="/image-to-video" class="active">图生视频</a></li>
                <li><a href="/history">历史记录</a></li>
            </ul>
        </div>
    </nav>

    <main class="container">
        <div class="generate-box">
            <form id="generate-form" enctype="multipart/form-data">
                <div class="form-group">
                    <label for="image">上传图片：</label>
                    <div class="file-upload">
                        <input 
                            type="file" 
                            id="image" 
                            name="image" 
                            accept="image/*"
                            required
                        >
                        <div class="file-upload-area" id="upload-area">
                            <div class="upload-icon">📁</div>
                            <p>点击或拖拽上传图片</p>
                            <small>支持 JPG、PNG、GIF 格式，最大 50MB</small>
                        </div>
                    </div>
                    <div id="preview-container" style="display: none;">
                        <img id="image-preview" src="" alt="图片预览">
                    </div>
                </div>

                <div class="form-group">
                    <label for="prompt">视频描述（可选）：</label>
                    <textarea 
                        id="prompt" 
                        name="prompt" 
                        placeholder="描述图片中希望呈现的动作或场景变化，例如：让图片中的风景动起来，有微风吹拂的效果"
                    ></textarea>
                </div>

                <div class="form-group">
                    <label for="size">视频尺寸：</label>
                    <select id="size" name="size">
                        <option value="1280*720" selected>1280 × 720 (横版)</option>
                        <option value="720*1280">720 × 1280 (竖版)</option>
                        <option value="1080*1920">1080 × 1920 (9:16)</option>
                    </select>
                </div>

                <button type="submit" class="btn-primary">
                    <span class="btn-text">🎬 生成视频</span>
                    <span class="btn-loading" style="display: none;">生成中（可能需要1-3分钟）...</span>
                </button>
            </form>

            <div id="result" class="result-box" style="display: none;">
                <h3>生成结果</h3>
                <div class="video-container">
                    <video id="generated-video" controls>
                        <source src="" type="video/mp4">
                        您的浏览器不支持视频播放
                    </video>
                </div>
                <div class="actions">
                    <a id="download-link" href="" download="generated-video.mp4" class="btn-secondary">
                        📥 下载视频
                    </a>
                    <button onclick="location.reload()" class="btn-secondary">
                        🔄 继续生成
                    </button>
                </div>
            </div>
        </div>
    </main>

    <script src="/static/js/image-to-video.js"></script>
</body>
</html>
